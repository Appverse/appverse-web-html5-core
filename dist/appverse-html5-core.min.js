/*! appverse-web-html5-core - v0.7.13 - */
!function(){"use strict";function a(a,b,c){a.info("appverse.cache run"),c.ScopeCache_Enabled&&b.setScopeCache(c.ScopeCache_duration,c.ScopeCache_capacity),c.BrowserStorageCache_Enabled&&b.setBrowserStorage(c.BrowserStorage_type,c.MaxAge,c.CacheFlushInterval,c.DeleteOnExpire,c.VerifyIntegrity),c.HttpCache_Enabled&&b.setDefaultHttpCacheStorage(c.HttpCache_duration,c.HttpCache_capacity)}a.$inject=["$log","avCacheFactory","CACHE_CONFIG"],angular.module("appverse.cache",["appverse.configuration","angular-cache"]).run(a)}(),function(){"use strict";angular.module("appverse.cache").directive("cache",["$log","avCacheFactory",function(a,b){return{link:function(c,d,e){var f=e.cache||e.cacheName;c.$watch(function(){return b.getScopeCache().get(f)},function(d){a.debug("Cache watch {"+f+"}:",d),c[f]=b.getScopeCache().get(f)}),c.$watch(f,function(d){a.debug("Cache watch {"+f+"}:",d),b.getScopeCache().put(f,c[f])})}}}])}(),function(){"use strict";angular.module("appverse.cache").factory("avCacheFactory",["CacheFactory","$http","CACHE_CONFIG",function(a,b,c){var d={_scopeCache:null,_browserCache:null,_httpCache:null};return d.setScopeCache=function(b,e){var f={maxAge:b,capacity:e},g=a.get(c.DefaultScopeCacheName);return g?(g.setOptions(f),d._scopeCache=g):d._scopeCache=a.createCache(c.DefaultScopeCacheName,f),d._scopeCache},d.getScopeCache=function(){return d._scopeCache||d.setScopeCache(c.ScopeCache_duration,c.ScopeCache_capacity)},d.setBrowserStorage=function(b,e,f,g,h){var i;i="2"===b?c.SessionBrowserStorage:c.LocalBrowserStorage;var j={maxAge:e,cacheFlushInterval:f,deleteOnExpire:g,storageMode:i,verifyIntegrity:h},k=a.get(c.DefaultBrowserCacheName);return k?(k.setOptions(j),d._browserCache=k):d._browserCache=a.createCache(c.DefaultBrowserCacheName,j),d._browserCache},d.setDefaultHttpCacheStorage=function(c,e){var f="MyHttpAngularCache";return d._httpCache=a.get(f),d._httpCache?d._httpCache.setOptions({capacity:e,maxAge:c,deleteOnExpire:"aggressive",recycleFreq:15e3,cacheFlushInterval:15e3,storageMode:"localStorage",verifyIntegrity:!0}):d._httpCache=a.createCache(f,{capacity:e,maxAge:c,deleteOnExpire:"aggressive",recycleFreq:15e3,cacheFlushInterval:15e3,verifyIntegrity:!0}),b.defaults.cache=d._httpCache,d._httpCache},d.getHttpCache=function(){return d._httpCache},d}])}(),function(){"use strict";angular.module("appverse.cache").service("IDBService",["$q","$log",function(a,b){function c(){var c=a.defer();if(e)return c.resolve(!0),c.promise;var f=window.indexedDB.open("indexeddb_appverse",1);return f.onerror=function(a){b.debug("Error opening db"),c.reject(a.toString())},f.onupgradeneeded=function(a){var b,c=a.target.result;c.objectStoreNames.contains("default")||(b=c.createObjectStore("item",{keyPath:"id",autoIncrement:!0}),b.createIndex("titlelc","titlelc",{unique:!1}),b.createIndex("tags","tags",{unique:!1,multiEntry:!0}))},f.onsuccess=function(a){d=a.target.result,d.onerror=function(a){c.reject("Database error: "+a.target.errorCode)},e=!0,c.resolve(!0)},c.promise}var d,e=!1,f={};return f.isSupported=function(){return"indexedDB"in window},f.deleteDefault=function(b){var c=a.defer(),e=d.transaction(["item"],"readwrite");return e.objectStore("item")["delete"](b),e.oncomplete=function(){c.resolve()},c.promise},f.getDefault=function(b){var c=a.defer(),e=d.transaction(["item"]),f=e.objectStore("item"),g=f.get(b);return g.onsuccess=function(){var a=g.result;c.resolve(a)},c.promise},f.getDefaults=function(){var b=a.defer();return c().then(function(){var a=[],c=function(b){var c=b.target.result;c&&(a.push({key:c.key,title:c.value.title,body:c.value.body,updated:c.value.updated,tags:c.value.tags}),c["continue"]())},e=d.transaction(["item"],"readonly"),f=e.objectStore("item");f.openCursor().onsuccess=c,e.oncomplete=function(){b.resolve(a)}}),b.promise},f.ready=function(){return e},f.saveDefault=function(c){var e=a.defer();c.id||(c.id="");var f=c.title.toLowerCase(),g=d.transaction(["item"],"readwrite");return""===c.id?(b.debug("id empty"),g.objectStore("item").add({title:c.title,body:c.body,updated:(new Date).getTime(),titlelc:f,tags:new Array(c.tags)})):(b.debug("id not empty"),g.objectStore("item").put({title:c.title,body:c.body,updated:new Date,id:Number(c.id),titlelc:f,tags:new Array(c.tags)})),g.oncomplete=function(){e.resolve()},e.promise},f.item=function(a,b,c,d){this.id=a,this.title=b,this.body=c,this.tags=d},f}])}(),function(){"use strict";angular.module("appverse.detection",["appverse.utils","appverse.detection.mobile","appverse.detection.provider"])}(),function(){"use strict";function a(a){this.mobileDetector=a,this.bandwidth=0,this.isPollingBandwidth=!1,this.$http=void 0,this.$get=["$http",function(a){return this.$http=a,this}],this.hasAppverseMobile=function(){return this.mobileDetector.hasAppverseMobile()},this.isMobileBrowser=function(){return this.mobileDetector.isMobileBrowser()},this.hasAppverseMobile()||this.isMobileBrowser();var b=function(a,b){var c=document.createEvent("Event");c.initEvent(a,!0,!0),c.data=b,window.dispatchEvent(c)},c=function(a,c){var d=new XMLHttpRequest,e=setTimeout(function(){d.abort(),b("connectiontimeout",{})},5e3);d.onreadystatechange=function(){4===d.readyState&&(200===d.status?(b("goodconnection",{}),clearTimeout(e),c&&c(d.responseText)):b("connectionerror",{}))},d.open("GET",a),d.send()};this.isOnline=window.navigator.onLine,this.isPollingOnlineStatus=!1,this.testOnlineStatus=function(){c("resources/detection/ping.json")},this.startPollingOnlineStatus=function(a){this.isPollingOnlineStatus=setInterval(this.testOnlineStatus,a)},this.stopPollingOnlineStatus=function(){clearInterval(this.isPollingOnlineStatus),this.isPollingOnlineStatus=!1},this.testBandwidth=function(){var a="resources/detection/bandwidth.json?bust="+(new Date).getTime();b("onBandwidthStart"),this.$http.get(a).success(function(a,c,d){b("onBandwidthEnd",{status:c,data:a,getResponseHeader:d})})},this.startPollingBandwidth=function(a){this.testBandwidth(),this.isPollingBandwidth=setInterval(this.testBandwidth.bind(this),a)},this.stopPollingBandwidth=function(){clearInterval(this.isPollingBandwidth),this.isPollingBandwidth=!1}}a.$inject=["MobileDetectorProvider"],angular.module("appverse.detection.provider",["appverse.detection.mobile"]).provider("Detection",a)}(),function(){"use strict";function a(){function a(a){return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4))}this.$get=function(){return this},this.hasAppverseMobile=function(){return"undefined"!=typeof _AppverseContext?!0:window.localStorage.getItem("_AppverseContext")?!0:!1},this.isMobileBrowser=function(b){var c=b||navigator.userAgent||navigator.vendor||window.opera;return a(c)}}angular.module("appverse.detection.mobile",[]).provider("MobileDetector",a)}(),function(){"use strict";function a(a,b,c,d){a.info("appverse.detection run"),d.addEventListener?(d.addEventListener("online",function(){a.debug("detectionController online"),b.isOnline=!0,c.$digest()},!0),d.addEventListener("offline",function(){a.debug("detectionController offline"),b.isOnline=!1,c.$digest()},!0)):a.warn("Detection module: $window.addEventListener not supported."),d.applicationCache?d.applicationCache.addEventListener("error",function(){a.debug("Error fetching manifest: a good chance we are offline")}):a.warn("Detection module: $window.applicationCache not supported."),window.addEventListener?(window.addEventListener("goodconnection",function(){a.debug("detectionController goodconnection"),b.isOnline=!0,c.$digest()}),window.addEventListener("connectiontimeout",function(){a.debug("detectionController connectiontimeout"),b.isOnline=!1,c.$digest()}),window.addEventListener("connectionerror",function(){a.debug("detectionController connectionerror"),b.isOnline=!1,c.$digest()}),window.addEventListener("onBandwidthStart",function(){a.debug("detectionController onBandwidthStart"),b.bandwidthStartTime=new Date}),window.addEventListener("onBandwidthEnd",function(d){a.debug("detectionController onBandwidthEnd");var e=parseInt(d.data.getResponseHeader("Content-Length"),10),f=new Date-b.bandwidthStartTime;b.bandwidth=parseInt(e/1024/(f/1e3)),setTimeout(function(){c.$digest()})})):a.warn("Detection module: window.addEventListener not supported."),d.Appverse||(d.Appverse={is:{}},Appverse.is.iOS=Appverse.is.iPhone=Appverse.is.iPod=Appverse.is.iPad=Appverse.is.Android=Appverse.is.Mac=Appverse.is.Windows=Appverse.is.Linux=Appverse.is.Blackberry=Appverse.is.Tablet=Appverse.is.WindowsPhone=!1,navigator.userAgent.match(/iPhone/i)&&(Appverse.is.iPhone=!0),navigator.userAgent.match(/iPod/i)&&(Appverse.is.iPod=!0),navigator.userAgent.match(/iPad/i)&&(Appverse.is.iPad=!0),navigator.userAgent.indexOf("android")>-1&&(Appverse.is.Android=!0),navigator.platform.toUpperCase().indexOf("MAC")>=0&&(Appverse.is.Mac=!0),-1!==navigator.appVersion.indexOf("Win")&&(Appverse.is.Windows=!0),-1!==navigator.appVersion.indexOf("Linux")&&(Appverse.is.Linux=!0),navigator.userAgent.toLowerCase().indexOf("blackberry")>=0&&(Appverse.is.Blackberry=!0),/ipad|android|android 3.0|xoom|sch-i800|playbook|tablet|kindle/i.test(navigator.userAgent.toLowerCase())&&(Appverse.is.Tablet=!0),(navigator.userAgent.match(/Windows Phone/i)||navigator.userAgent.match(/iemobile/i))&&(Appverse.is.WindowsPhone=!0),Appverse.is.Desktop=Appverse.is.Windows||Appverse.is.Linux||Appverse.is.Mac,Appverse.is.Phone=!Appverse.is.Desktop&&!Appverse.is.Tablet)}a.$inject=["$log","Detection","$rootScope","$window"],angular.module("appverse.detection").run(a)}(),function(){"use strict";var a=["ionic","appverse.detection","ui.router","appverse.ionic.templates"];angular.module("appverse.ionic",a)}(),function(){"use strict";angular.module("appverse.ionic").controller("ModalNotAllowedCntrl",["$scope","$uibModalInstance","Detection","$location","$timeout","IONIC_CONFIG",function(a,b,c,d,e,f){function g(){return a.seconds=a.seconds-1,a.$evalAsync(a.seconds),a.seconds<=0?(clearInterval(h),b.close(),void e(function(){d.path(f.redirectionPath)},300)):void 0}c.isMobileBrowser()?a.device="device":a.device="desktop",a.seconds=5;var h=setInterval(g,1e3)}])}(),function(){"use strict";function a(a,b,c,d,e,f){function g(){e.modalPrompt?angular.injector(["ui.bootstrap"]).get("$uibModal").open({templateUrl:"appverse-ionic/modal/not-allowed.html",controller:"ModalNotAllowedCntrl"}):f.path(e.redirectionPath)}function h(a){if(a.data.mobile&&b.isMobileBrowser()){if(!a.data.restrict){var c=i.get("^",a);c&&c.mobile&&!c.restrict&&(c.templateUrl=c.templateUrl.split(".html")[0]+e.suffix+".html"),a.templateUrl=a.templateUrl.split(".html")[0]+e.suffix+".html"}a.data.controller&&(a.controller=a.data.controller)}delete a.data}a.info("appverse.ionic run");var i=d;c.$on("$stateChangeStart",function(a,c){c.data&&(c.data.restrict&&(!b.isMobileBrowser()&&c.data.mobile||b.isMobileBrowser()&&!c.data.mobile)?g():h(c))})}a.$inject=["$log","Detection","$rootScope","$state","IONIC_CONFIG","$location"],angular.module("appverse.ionic").run(a)}(),angular.module("appverse.ionic.templates",[]).run(["$templateCache",function(a){"use strict";a.put("appverse-ionic/modal/not-allowed.html",'<div class="modal-header"><h3 class="modal-title">Not Allowed</h3></div><div class="modal-body">This view is not allowed in {{device}} version, you will be redirected to home page in {{seconds}}...</div>')}]),function(){"use strict";angular.module("appverse.logging",["appverse.configuration"]).config(["$provide",function(a){a.decorator("$log",["$delegate","FormattedLogger",function(a,b){return b(a)}])}])}(),function(){"use strict";function a(){function a(){return b?b.isOnline:!0}var b;this.$get=["$injector","LOGGING_CONFIG",function(b,c){return function(d){function e(a,b){function d(a){return a.toString().length<2?"0"+a:a}return a=a||new Date,b=b||c.LogDateTimeFormat,b.replace(/%([a-zA-Z])/g,function(b,c){switch(c){case"Y":return a.getFullYear();case"M":return d(a.getMonth()+1);case"d":return d(a.getDate());case"h":return d(a.getHours());case"m":return d(a.getMinutes());case"s":return d(a.getSeconds());case"z":return d(a.getMilliseconds());default:throw new Error("Unsupported format code: "+c)}})}function f(d,f,g){try{if(!d)return function(){};var h=f+" | "+c.CustomLogPreffix+" | ",i=function(){var d=Array.prototype.slice.call(arguments);if("[object String]"===Object.prototype.toString.call(d[0])?d[0]=h+e()+" | "+d[0]:(d.push(d[0]),d[0]=h+e()+" | "),g.apply(null,d),c.ServerEnabled){var f={logUrl:window.location.href,logMessage:d[0]};if(2===d.length&&(f.logMessage+=" "+JSON.stringify(d[1])),a()){var i=b.get("$http");i.post(c.LogServerEndpoint,f)}}};return i.logs=[],i}catch(j){throw j}}return d.log=f(c.EnabledLogLevel,"LOG  ",d.log),d.info=f(c.EnabledInfoLevel,"INFO ",d.info),d.error=f(c.EnabledErrorLevel,"ERROR",d.error),d.warn=f(c.EnabledWarnLevel,"WARN ",d.warn),d.debug=f(c.EnabledDebugLevel,"DEBUG",d.debug),d}}],this.setDetection=function(a){b=a}}angular.module("appverse.logging").provider("FormattedLogger",a)}(),function(){"use strict";angular.module("appverse.native",["appverse.detection","appverse.cache"]).config(["$httpProvider","DetectionProvider","REST_CONFIG",function(a,b,c){window.$httpCounter=0;var d=function(a){var b={};return b.Endpoint={},b.Endpoint.Path=a.url.split(c.BaseUrl)[1],c.HostList[a.ind]?(b.Endpoint.Host=c.HostList[a.ind].Host,b.Endpoint.Port=c.HostList[a.ind].Port):console.error("Host not found in Host list: ",c.HostList),"MockServer"===c.ServerMode?b.Endpoint.ProxyUrl=c.MockServer.URL+":"+c.MockServer.Port:b.Endpoint.ProxyUrl="",b},e=function(a){var b={};return b.Headers=[],b.Content=a.data,b.ContentType="application/json",b.Session={},b.Method=a.method,b.StopAutoRedirect=!1,b};a.interceptors.push(["$q","$log",function(f,g){return{request:function(h){if(0!==h.url.indexOf(c.BaseUrl)||!b.hasAppverseMobile())return g.debug("request fallthrough",h),h;if(h.cache&&"GET"===h.method&&a.defaults.cache&&a.defaults.cache.get(h.url))return g.debug("request cached",h),h;g.debug("request override",h),window.$httpCounter++,window["$httpPromise"+window.$httpCounter]=f.defer(),window["$httpConfig"+window.$httpCounter]=angular.copy(h);var i="InvokeService",j="$httpCallback",k=window.$httpCounter;h.ind||(h.ind=0);var l=get_params([e(h),d(h)]),m=Appverse.SERVICE_URI+Appverse.IO.serviceName+"/"+i,n=Appverse.APPVERSE_SERVICE_URI+Appverse.IO.serviceName+"/"+i,o=m;Appverse.is.iOS&&(o=n);var p="";if(null!==j?p=p+"callback="+j:p+="callback=NULL",null!==k?p=p+"&callbackid="+k:(p+="&callbackid=callbackid",k="callbackId"),null!==l&&(Appverse.unescapeNextRequestData?p=p+"&json="+unescape(l):(p=p+"&json="+l,Appverse.unescapeNextRequestData=!0)),window.webkit)return void window.webkit.messageHandlers.service.postMessage({uri:o,query:p});if(window.appverseJSBridge)return o=n,void window.appverseJSBridge.postMessage(o,p);if(window.external&&window.external.notify){var q={uri:n,query:p};return void window.external.notify(JSON.stringify(q))}return AppverseEmulator.eventListenersRegistered&&AppverseEmulator.eventListenersRegistered.indexOf(i)>=0&&(AppverseEmulator.queuedListenerMessagesCount++,console.log("Appverse Emulator - queue listener result for methodName: "+AppverseEmulator.normalizeListenerCallingName(i)),function(a){setTimeout(function(){AppverseEmulator.appverseListenerPollingTimerFunc(a)},AppverseEmulator.pollingInterval)}(Appverse.IO.serviceName+"#"+AppverseEmulator.normalizeListenerCallingName(i))),Appverse.executingInEmulator&&null!==j&&(AppverseEmulator.queuedCallbackMessagesCount++,console.log("Appverse Emulator - queue callback result for methodName: "+i),function(a,b){setTimeout(function(){AppverseEmulator.appverseCallbackPollingTimerFunc(a,b)},AppverseEmulator.pollingInterval)}(j,k)),delete h.headers.Accept,h.headers["Content-Type"]="application/json;charset=UTF-8",h.method="POST",h.url=o,h.data=p,h},response:function(a){if(!a.config.url||0!==a.config.url.indexOf(Appverse.SERVICE_URI+Appverse.IO.serviceName+"/InvokeService"))return a;g.debug("response override",a);var b=a.config.data.split("callbackid=")[1].split("&")[0];return window["$httpPromise"+b].promise}}}])}]).run(["$http","$log",function(a,b){function c(){return Object.create(null)}function d(a){var b,d,e,g=c();return a?(angular.forEach(a.split("\n"),function(a){e=a.indexOf(":"),b=angular.lowercase(f(a.substr(0,e))),d=f(a.substr(e+1)),b&&(g[b]=g[b]?g[b]+", "+d:d)}),g):g}function e(a){var b=angular.isObject(a)?a:void 0;return function(c){if(b||(b=d(a)),c){var e=b[angular.lowercase(c)];return void 0===e&&(e=null),e}return b}}var f=function(a){return angular.isString(a)?a.trim():a};window.$httpCallback=function(c,d){b.debug("$httpCallback id",d),b.debug("$httpCallback result",c);var f={};if(f.config=window["$httpConfig"+d],null!==c){var g="";angular.forEach(c.Headers,function(a){g+=a.Name+":"+a.Value+"\n"}),f.headers=e(g),c.Content.length>0&&(f.data=JSON.parse(c.Content)),f.status=200,f.statusText="OK",f.config.cache&&a.defaults.cache&&"GET"===f.config.method&&a.defaults.cache.put(f.config.url,[f.status,f.data,f.headers(),f.statusText]),window["$httpPromise"+d].resolve(f)}else f.status=404,f.statusText="Error",window["$httpPromise"+d].reject(f);delete window["$httpConfig"+d],delete window["$httpPromise"+d]}}])}(),function(){"use strict";angular.module("appverse.native").run(["$log","$q","Detection","$window","$timeout","$interval",function(a,b,c,d,e,f){if(c.hasAppverseMobile()){var g;d.callbackGeo=function(a){a?Appverse.Geo.StartUpdatingLocation("callbackGeoStart"):g.reject()},d.callbackGeoStart=function(a){a?Appverse.Geo.GetCoordinates("callbackGeoCoordinates"):g.reject()},d.callbackGeoCoordinates=function(a){a?g.resolve(a):g.reject()},d.onAccessToLocationDenied=function(){var a={code:1,message:"Permission denied."};g.reject(a)};var h=function(a,c,d){g=b.defer(),g.promise.then(function(b){var c={};c.coords={latitude:b.XCoordinate,longitude:b.YCoordinate,altitude:b.ZCoordinate,accuracy:(b.XDoP+b.YDoP)/2,altitudeAccuracy:null,heading:null,speed:null},c.timestamp=(new Date).getTime(),a(c),Appverse.Geo.StopUpdatingLocation()})["catch"](function(a){a||(a={code:2,message:"Postion unavailable."}),c(a)}),Appverse.Geo.IsGPSEnabled("callbackGeo"),d&&d.timeout?e(function(){var a={code:3,message:"Request timed out."};g.reject(a)},d.timeout):d={enableHighAccuracy:!1,timeout:window.Infinity,maximumAge:0}};d.navigator&&d.navigator.geolocation&&(d.navigator.geolocation.getCurrentPosition=function(a,b,c){h(a,b,c)},d.navigator.geolocation.watchPosition=function(a,b,c){var d=f(function(){h(a,b,c)},1e3);return d},d.navigator.geolocation.clearWatch=function(a){f.cancel(a),Appverse.Geo.StopUpdatingLocation()});var i,j=function(){i=b.defer(),i.promise.then(function(){c.isOnline=!0})["catch"](function(){c.isOnline=!1}),d.callbackNetwork=function(a){a?i.resolve():i.reject()},Appverse.Net.IsNetworkReachable("www.google.com","callbackNetwork")};j(),d.onConnectivityChange=function(){j()}}}])}(),function(){"use strict";function a(a){a.info("appverse.performance run")}a.$inject=["$log"],angular.module("appverse.performance",["appverse.configuration"]).run(a)}(),function(){"use strict";angular.module("appverse.performance").directive("webworker",["$log","WebWorkerFactory","PERFORMANCE_CONFIG",function(a,b,c){return{restrict:"E",scope:{workerid:"@",message:"@",template:"@"},priority:1e3,terminal:!0,compile:function(){},link:function(d,e,f){function g(a){d.workerid=j,d.template=k||c.webworker_Message_template,h(d.workerid,a)}function h(a,c){b.runTask(a,c);var e=b._resultMessage;e&&(d.messageFromWorker=e)}function i(a,b,c){a.get(d.template,{cache:b}).success(function(a){e.html(a),c(e.contents())(d)})}var j=f.id,k=f.template;d.$watch(function(){return b._resultMessage},function(c){a.debug("Cache watch {"+name+"}:",c),d.messageFromWorker=b._resultMessage}),d.$watch("message",function(a){g(a),i()})}}}])}(),function(){"use strict";function a(a,b,c){function d(b){var d=this;this.parentPool=b,this.workerTask={},this.run=function(b){if(d.workerTask=b,null!=d.workerTask.script){var e;b.type==c.webworker_dedicated_literal?(e=new Worker(d.workerTask.script),e.addEventListener("message",d.OnWorkerMessageHandler,!1),e.postMessage(d.workerTask.startMessage)):b.type==c.webworker_shared_literal?(e=new SharedWorker(d.workerTask.script),e.port.addEventListener("message",d.OnWorkerMessageHandler,!1),e.port.postMessage(d.workerTask.startMessage)):a.error("NO VALID WORKER TYPE")}},d.OnWorkerMessageHandler=function(a){d.workerTask.callback(a),d.parentPool.freeWorkerThread(d)}}function e(a){g._resultMessage=a.data}function f(a,b,c,d){this.id=a,this.type=b,this.poolSize=c,this.file=d}var g={_poolSize:c.webworker_pooled_threads,_authorizedWorkersOnly:c.webworker_authorized_workers_only,_workersDir:c.webworker_directory,_workersList:c.webworker_authorized_workers,_resultMessage:""};return a.debug("Initializated webworkers factory preconfigured values."),a.debug("Default pool size: "+g._poolSize),a.debug("Are only authorized preconfigured workers? "+g._authorizedWorkersOnly),a.debug("The folder for webworkers in the app: "+g._workersDir),a.debug("Number of members in the workers list: "+g._workersList.length),g.runParallelTasksGroup=function(b,c){this.workerData=b,a.debug("Started parallelized execution for worker: "),a.debug(b.toString());var d=new g.WorkerPool(this.workerData.poolSize);if(d.init(),c&&c.length>0)for(var e=0;e<c.length;e++){var f=c[e];d.addWorkerTask(f)}return g._resultMessage},g.runTask=function(b,c,d){var e=new g.WorkerPool(g._poolSize);e.init();var h,i;if(g._authorizedWorkersOnly?b?h=g.getWorkerFromId(b):a.error("NO VALID WORKER ID ERROR"):b?h=new f(1001,"dedicated",b):a.error("NO VALID WORKER ID ERROR"),h){e=new g.WorkerPool(h.poolSize),i=new g.WorkerTask(h,d,c);for(var j=0;j<g._poolSize;j++)e.addWorkerTask(i)}else a.error("NO WORKER DATA ERROR")},g.WorkerPool=function(a){var b=this;a?this.size=a:this.size=g._poolSize,this.taskQueue=[],this.workerQueue=[],this.init=function(){for(var a=0;a<b.size;a++)b.workerQueue.push(new d(b))},this.addWorkerTask=function(a){if(b.workerQueue.length>0){var c=b.workerQueue.shift();c.run(a)}else b.taskQueue.push(a)},this.freeWorkerThread=function(a){if(b.taskQueue.length>0){var c=b.taskQueue.shift();a.run(c)}else b.taskQueue.push(a)}},g.WorkerTask=function(a,b,c){this.script=a.file,b?this.callback=b:this.callback=e,this.startMessage=c,this.type=a.type},f.prototype.toString=function(){return"ID: "+this.id+"|TYPE: "+this.type+"|POOL SIZE: "+this.poolSize+"|FILE: "+this.file},g.getWorkerFromId=function(a,b){this.id=a,this.type="",this.poolSize=b,this.file="";for(var c=0;c<g._workersList.length;c++)if(g._workersList[c].id===a){this.type=g._workersList[c].type,this.poolSize&&0!=this.poolSize?this.poolSize=b:this.poolSize=g._workersList[c].poolSize,this.file=g._workersDir+g._workersList[c].file;break}var d=new f(this.id,this.type,this.poolSize,this.file);return d},g}a.$inject=["$log","$q","PERFORMANCE_CONFIG"],angular.module("appverse.performance").factory("WebWorkerPoolFactory",a)}(),function(){"use strict";angular.module("appverse.rest",["restangular","appverse.configuration","appverse.utils"]).run(["$injector","$log","Restangular","ModuleSeeker","REST_CONFIG",function(a,b,c,d,e){function f(){var b=a.get("RESTFactory"),c=a.get("$log"),e=a.get("SECURITY_GENERAL");if(d.exists("appverse.security")){var f=a.get("Oauth_RequestWrapper");if(e.securityEnabled)return b.wrapRequestsWith(f),void c.debug("REST communication is secure. Security is enabled. REST requests will be wrapped with authorization headers.")}c.debug("REST communication is not secure. Security is not enabled.")}function g(){if(d.exists("appverse.cache")){var b=a.get("RESTFactory"),c=a.get("avCacheFactory"),e=c.getHttpCache();b.setCache(e)}}if(b.info("appverse.rest run"),f(),g(),c.setBaseUrl(e.BaseUrl),c.setExtraFields(e.ExtraFields),c.setParentless(e.Parentless),c.setRestangularFields(e.RestangularFields),c.setMethodOverriders(e.MethodOverriders),c.setFullResponse(e.FullResponse),e.DefaultHeaders&&c.setDefaultHeaders(e.DefaultHeaders),c.setRequestSuffix(e.RequestSuffix),c.setUseCannonicalId(e.UseCannonicalId),c.setEncodeIds(e.EncodeIds),e.HATEOAS){var h="content",i="href",j="links";c.setResponseExtractor(function(a,b){var c=a;if("getList"===b&&h in a){for(var d=0;d<a[h].length;d++)a[h][d][i]=a[h][d][j][0][i],delete a[h][d][j];c=a[h],delete a[h];for(var e in a)c[e]=a[e]}return c})}}])}(),function(){"use strict";angular.module("appverse.rest").directive("avRestGet",["$log","Restangular","$rootScope","$timeout","REST_CONFIG","RESTFactory",function(a,b,c,d,e,f){return{restrict:"A",link:function(g,h,i){a.debug("avRestGet directive",i);var j,k="Getting",l="Error";i.restName?j=i.restName:(j=i.avRestGet.split("/").reverse()[0],i.restId&&"s"===j.charAt(j.length-1)&&(j=j.substr(0,j.length-1))),g[j+k]=!0,g.$watchCollection(function(){return[i.avRestGet,i.restId,i.restName]},function(g,h,m){function n(b){a.debug("onSuccess",b),d(function(){m[j+k]=!1,m[j]=b;var a=f.afterRoute[j];a&&a(),i.restThen&&m.$eval(i.restThen)},e.Timeout)}function o(b){a.debug("onError",b),d(function(){m[j+k]=!1,m[j+l]=!0,c[j+"Errors"]||(c[j+"Errors"]=[]),c[j+"Errors"].push(b)},e.Timeout)}a.debug("avRestGet watch "+j+":",g),m[j+l]=!1,i.restId?b.all(i.avRestGet).one(i.restId).get().then(n,o):b.all(i.avRestGet).getList().then(n,o)})}}}]).directive("avRestRemove",["$log","$rootScope","$timeout","REST_CONFIG","RESTFactory",function(a,b,c,d,e){return{restrict:"A",link:function(f,g,h){g.bind("click",function(){function g(b){a.debug("onSuccess",b),c(function(){var a;a=l.getParentList?l.getParentList():f[m];var b=a.indexOf(l);if(b>-1){a.splice(b,1);var c=e.afterRoute[m];c&&c()}},d.Timeout)}function i(e){a.debug("onError",e),c(function(){delete l[j],f[m+k]=!0,b[m+"Errors"]||(b[m+"Errors"]=[]),b[m+"Errors"].push(e)},d.Timeout)}var j="$removing",k="Error",l=f.$eval(h.avRestRemove),m=l.route.split("/").reverse()[0];if(a.debug("avRestRemove directive",l),!h.restIf||f.$eval(h.restIf)){l[j]=!0;var n=e.afterRoute[m];n&&n(),l.remove().then(g,i)}})}}}]).directive("avRestSave",["$log","$rootScope","Restangular","$timeout","REST_CONFIG","RESTFactory",function(a,b,c,d,e,f){return{restrict:"A",link:function(g,h,i){h.bind("click",function(){function h(b){a.debug("onSuccess",b),d(function(){o.fromServer?k[p]=b:(k.push(b),delete k[m]);var a=f.afterRoute[l];a&&a()},e.Timeout)}function j(c){a.debug("onError",c),d(function(){g[l+n]=!0,p>-1?delete k[p][m]:delete k[m];var a=f.afterRoute[l];a&&a(),b[l+"Errors"]||(b[l+"Errors"]=[]),b[l+"Errors"].push(c)},e.Timeout)}var k,l,m="$saving",n="Error",o=g.$eval(i.avRestSave),p=-1;if(o.getParentList?(k=o.getParentList(),l=k.route.split("/").reverse()[0]):(l=o.route.split("/").reverse()[0],k=g[l]),a.debug("avRestSave directive",o),!i.restIf||g.$eval(i.restIf)){g[l+n]=!1,o=angular.copy(o),delete o.editing,o.fromServer?(o.put().then(h,j),k.some(function(a,b){return a[c.configuration.restangularFields.id]===o[c.configuration.restangularFields.id]?(p=b,!0):void 0}),k[p][m]=!0):(delete o[c.configuration.restangularFields.id],k.post(o).then(h,j),k[m]=!0);var q=f.afterRoute[l];q&&q()}})}}}]).directive("avRestAdd",["$log",function(a){return{restrict:"A",link:function(b,c,d){c.bind("click",function(){var c=b.$eval(d.avRestAdd);a.debug("avRestAdd directive",c),c.unshift({editing:!0,getParentList:function(){return c}}),b.$applyAsync()})}}}]).directive("avRestClone",["$log",function(a){return{restrict:"A",link:function(b,c,d){c.bind("click",function(){var c=b.$eval(d.avRestClone),e=c.getParentList();a.debug("avRestClone directive",c);var f=c.clone();f.editing=!0,f.fromServer=!1,e.unshift(f),b.$applyAsync()})}}}]).directive("avRestEdit",["$log",function(a){return{restrict:"A",link:function(b,c,d){c.bind("click",function(){var c=b.$eval(d.avRestEdit);a.debug("avRestEdit directive",c),b.copy=c.clone(),c.editing=!0,b.$applyAsync()})}}}]).directive("avRestCancel",["$log",function(a){return{restrict:"A",link:function(b,c,d){c.bind("click",function(){a.debug("avRestCancel directive",b);var c,e=b.$eval(d.avRestCancel);c=e.getParentList?e.getParentList():b[d.restName||d.avRestCancel+"s"];var f=c.indexOf(e);f>-1&&(b.copy?c.splice(f,1,b.copy):c.splice(f,1)),b.$applyAsync()})}}}])}(),function(){"use strict";function a(a,b,c,d,e){var f={afterRoute:{}};return f.wrapRequestsWith=function(a){d=a.wrapRequest(d)},f.setCache=function(a){d.setResponseInterceptor(function(b,c){return a&&e.NoCacheHttpMethods[c]===!0&&a.removeAll(),b})},f.setAfterRoute=function(a,b){f.afterRoute[a]=b},f.readBatch=function(a){var e=b.defer();return c.get(d.configuration.baseUrl+"/"+a+d.configuration.suffix).success(function(a){e.resolve(a)}),e.promise},f.readParallelMultipleBatch=function(a){var c=[];return angular.forEach(a,function(a){var d=b.defer();f.readBatch(a).then(function(a){d.resolve(a)},function(){d.reject()}),c.push(d.promise)}),b.all(c)},f}a.$inject=["$log","$q","$http","Restangular","REST_CONFIG"],angular.module("appverse.rest").factory("RESTFactory",a)}(),function(){"use strict";angular.module("appverse.router",["ui.router","appverse.configuration.default"])}(),function(){"use strict";angular.module("appverse.router").config(["$urlRouterProvider","ROUTER_CONFIG",function(a,b){b.loadStatesEnabled&&a.deferIntercept()}])}(),function(){"use strict";angular.module("appverse.router").run(["$log","$rootScope","$state","$stateParams","ROUTER_CONFIG","avStates",function(a,b,c,d,e,f){a.debug("appverse.router run"),b.$state=c,b.$stateParams=d,e.loadStatesEnabled&&e.autoLoadStates&&f.loadStates()}])}(),function(){"use strict";angular.module("appverse.router").provider("avStates",["$stateProvider",function(a){var b=this;b.stateFunctions={},b.globalFunctions={},b.setFunction=function(a,c,d){d?(b.stateFunctions[d]||(b.stateFunctions[d]={}),b.stateFunctions[d][a]=c):b.globalFunctions[a]=c},b.$get=["$log","$http","ROUTER_CONFIG","REST_CONFIG","$urlRouter",function(c,d,e,f,g){return{loadStates:function(h){function i(d){c.debug("States object",d),angular.forEach(d,function(d,e){c.debug("Adding state:",e),angular.forEach(b.globalFunctions,function(a,b){d[b]=a}),b.stateFunctions&&angular.forEach(b.stateFunctions[e],function(a,b){
d[b]=a}),a.state(e,d)}),g.sync()}if(h)c.debug("States object detected. It will be used to load states."),i(h);else{var j=e.statesUrl;e.prependBaseUrl&&(j=f.BaseUrl+j),e.appendRequestSuffix&&(j+=f.RequestSuffix),c.debug("Getting states from "+j),d.get(j).then(function(a){i(a.data)})}g.listen()}}}]}])}(),function(){"use strict";angular.module("appverse.serverPush",["appverse.configuration"]).run(["$log",function(a){a.info("appverse.serverPush run")}])}(),function(){"use strict";angular.module("appverse.serverPush").factory("WebSocketFactory",["$log",function(a){var b=angular.injector(["appverse.configuration.default"]).get("WEBSOCKETS_CONFIG"),c={};return c.open=function(d,e,f,g,h){if(c.ws)return a.warn("WebSocket connection is already opened. Closing it before opening a new one."),void c.close().then(function(){c.open(d,e,g,h)});var i=null;d||(d=b.WS_URL),"auto"===b.WS_TYPE?"SockJS"in window&&(i=new SockJS(d)):"sockjs"===b.WS_TYPE&&(i=new SockJS(d)),null===i?(a.debug("WS_TYPE: native"),"WebSocket"in window?i=new WebSocket(d):"MozWebSocket"in window&&(i=new MozWebSocket(d))):a.debug("WS_TYPE: sockjs"),i.onopen=function(){null!==i&&i.send(""),f&&f()},i.onerror=function(a){g&&g(a)},i.onmessage=function(a){e&&e(a)},i.onclose=function(){h&&h()},c.ws=i},c.close=function(){c.ws&&(c.ws.close(),c.ws=null)},c.sendRaw=function(b){a.debug("factory.ws: "+c.ws),c.ws.send(b)},c.status=function(){return null===c.ws||angular.isUndefined(c.ws)?WebSocket.CLOSED:c.ws.readyState},c.statusAsText=function(){var a=c.status();return a===WebSocket.CONNECTING?b.CONNECTING:a===WebSocket.OPEN?b.OPEN:a===WebSocket.CLOSING?b.WS_CLOSING:a===WebSocket.CLOSED?b.WS_CLOSED:b.WS_UNKNOWN},c.connect=function(d,e,f,g,h){if(c.client)return void a.warn("Client already exists. Please disconnect it before reconnecting.");if("none"===b.WS_PROTOCOL_TYPE)throw a.warn("No protocol configured WS_PROTOCOL_TYPE=none"),new TypeError("No protocol configured WS_PROTOCOL_TYPE=none");if(!c.ws)return a.debug("No underlying WebSocket connection found. Opening default one..."),void c.open(null,null,function(){c.connect(d,e,f,g)});var i=null;("auto"===b.WS_PROTOCOL_TYPE||"stomp"===b.WS_PROTOCOL_TYPE)&&("Stomp"in window?(i=Stomp.over(c.ws),a.debug("WS_TYPE: sockjs"),null!==b.HEARTBEAT_OUTGOING&&(i.heartbeat.outgoing=b.HEARTBEAT_OUTGOING),null!==b.HEARTBEAT_INCOMING&&(i.heartbeat.incoming=b.HEARTBEAT_INCOMING),i.debug=h,i.connect(d,e,f,g)):a.debug("WS_TYPE: none")),c.client=i},c.subscribe=function(b,d,e){if(c.client||(a.debug("Client does not exists. Connecting to default one..."),c.connect()),"function"!=typeof d)throw new TypeError(d+" is not a function.");return c.client.subscribe(b,d,e)},c.send=function(b,d,e){return null===c.client||angular.isUndefined(c.client)?void a.warn("Client does not exists. Please connect first."):void c.client.send(b,d,e)},c.unsubscribe=function(b){return!b||angular.isUndefined(b)?void a.warn("Subscription missing. Please provide the subcription object you got when subscribing."):void b.unsubscribe()},c.disconnect=function(){return!c.client||angular.isUndefined(c.client)?void a.warn("Client does not exists, please connect first."):(c.client.disconnect(),void(c.client=null))},c}])}(),function(){"use strict";angular.module("appverse.socketio",["appverse.configuration"])}(),function(){"use strict";angular.module("appverse.socketio").factory("SocketFactory",["$rootScope","Socket",function(a,b){var c={};return c.listen=function(c,d){b.on(c,function(){var c=arguments;a.$apply(function(){d.apply(b,c)})})},c.sendMessage=function(c,d,e){b.emit(c,d,function(){var c=arguments;a.$apply(function(){e&&e.apply(b,c)})})},c.unsubscribeCommunication=function(a){b.off(a())},c}])}(),function(){"use strict";angular.module("appverse.socketio").provider("Socket",function(){var a,b=angular.injector(["appverse.configuration.default"]).get("SERVERPUSH_CONFIG"),c="socket:";this.$get=["$rootScope","$timeout",function(d,e){var f;(a||window.io)&&(f=a||io.connect(b.BaseUrl,{resource:b.Resource,"connect timeout":b.ConnectTimeout,"try multiple transports":b.TryMultipleTransports,reconnect:b.Reconnect,"reconnection delay":b.ReconnectionDelay,"reconnection limit":b.ReconnectionLimit,"max reconnection attempts":b.MaxReconnectionAttempts,"sync disconnect on unload":b.SyncDisconnectOnUnload,"auto connect":b.AutoConnect,"flash policy port":b.FlashPolicyPort,"force new connection":b.ForceNewConnection}));var g=function(a){return function(){var b=arguments;e(function(){a.apply(f,b)},0)}},h=function(a,b){f.on(a,g(b))},i=function(){f.removeAllListeners()},j={on:h,addListener:h,off:i,emit:function(a,b,c){c?f.emit(a,b,g(c)):f.emit(a,b)},forward:function(a,b){a instanceof Array==!1&&(a=[a]),b||(b=d),angular.forEach(a,function(a){var d=c+a,e=g(function(a){b.$broadcast(d,a)});b.$on("$destroy",function(){f.removeListener(a,e)}),f.on(a,e)})}};return j}],this.prefix=function(a){c=a},this.ioSocket=function(b){a=b}})}(),function(){"use strict";function a(a,b,d,e){var f={prefix:"resources/i18n/",suffix:".json"};a.useStaticFilesLoader(f),a.preferredLanguage(b.PreferredLocale),d.localeLocationPattern(b.localeLocationPattern),e.decorator("translateDirective",c)}function b(a){a.info("appverse.translate run")}function c(a,b){var c=a[0],d=c.link,e=function(a,c,e,f){function g(){c.html(b(a.translationId,a.interpolateParams,a.interpolation));var d=c.text(),e=j.replace("%%text%%",d);c.html(e)}var h=c.text(),i=c.html(),j=i.replace(h,"%%text%%");d.apply(this,[a,c,e,f]),a.$on("$translateChangeSuccess",function(){g()}),a.$watch("[translationId, interpolateParams]",function(){a.translationId&&g()},!0)};return c.compile=function(){return e},a}a.$inject=["$translateProvider","I18N_CONFIG","tmhDynamicLocaleProvider","$provide"],b.$inject=["$log"],angular.module("appverse.translate",["pascalprecht.translate","appverse.configuration","tmh.dynamicLocale"]).config(a).run(b),c.$inject=["$delegate","translateFilter"]}(),function(){"use strict";angular.module("appverse.utils",[])}(),function(a){"use strict";function b(){this.$get=function(){return this},this.setBasePath=function(a){return new c(a)}}function c(a){function b(a){return"/"===a.slice(-1)}function c(a){return"/"===a.slice(0,1)}function d(a){return a.slice(0,-1)}function e(a){return a.slice(1)}a=a||"",a=a.trim(a),this.$get=function(){return this},this.inUrl=function(f){return f=f.trim(f),b(a)&&(a=d(a)),c(f)&&(f=e(f)),a+"/"+f}}a.module("appverse.utils").provider("BaseUrlSetter",b)}(angular),function(a){"use strict";function b(){this.$get=function(){return this}}a.module("appverse.utils").provider("ModuleSeeker",b),b.prototype.exists=function(b){try{return a.module(b),!0}catch(c){return!1}}}(angular),function(){"use strict";angular.module("appverse.utils").factory("Base64",function(){var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return{encode:function(b){var c,d,e,f,g,h="",i="",j="",k=0;do c=b.charCodeAt(k++),d=b.charCodeAt(k++),i=b.charCodeAt(k++),e=c>>2,f=(3&c)<<4|d>>4,g=(15&d)<<2|i>>6,j=63&i,isNaN(d)?g=j=64:isNaN(i)&&(j=64),h=h+a.charAt(e)+a.charAt(f)+a.charAt(g)+a.charAt(j),c=d=i="",e=f=g=j="";while(k<b.length);return h},decode:function(b){var c,d,e,f,g,h="",i="",j="",k=0,l=/[^A-Za-z0-9\+\/\=]/g;l.exec(b)&&alert("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding."),b=b.replace(/[^A-Za-z0-9\+\/\=]/g,"");do e=a.indexOf(b.charAt(k++)),f=a.indexOf(b.charAt(k++)),g=a.indexOf(b.charAt(k++)),j=a.indexOf(b.charAt(k++)),c=e<<2|f>>4,d=(15&f)<<4|g>>2,i=(3&g)<<6|j,h+=String.fromCharCode(c),64!=g&&(h+=String.fromCharCode(d)),64!=j&&(h+=String.fromCharCode(i)),c=d=i="",e=f=g=j="";while(k<b.length);return h}}})}(),function(){"use strict";angular.module("appverse.utils").factory("UtilFactory",function(){var a={};return a.findPropertyValueByName=function(a,b,c){for(var d=0;d<a.length;d++)if(a[d].area===b)for(var e=0;e<a[d].properties.length;e++)if(a[d].properties[e].property===c)return a[d].properties[e].value;return null},a.newRandomKey=function(a,b,c){var d;do d=a[Math.floor(a.length*Math.random())][b];while(d===c);return d},a})}(),function(){"use strict";angular.module("appverse.configuration.default",[])}(),function(){"use strict";angular.module("appverse.configuration.loader",["appverse.utils"])}(),function(){"use strict";function a(a){a.info("appverse.configuration run")}a.$inject=["$log"],angular.module("appverse.configuration",["appverse.configuration.loader"]).run(a)}(),function(){"use strict";function a(a,b,c){if(a.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|itms-services):/),b.exists("appverse.detection")){var d=c.get("DetectionProvider"),e=c.get("ConfigLoaderProvider");if(e.setDetection(d),b.exists("appverse.logging")){var f=c.get("FormattedLoggerProvider");f.setDetection(d)}}}a.$inject=["$compileProvider","ModuleSeekerProvider","$injector"],angular.module("appverse",["appverse.utils","appverse.configuration"]).config(a)}(),function(){"use strict";function a(){var a=new b,c={};this.$get=function(){return this},this.load=function(a){this.loadDefaultConfig().loadCustomConfig(a).overrideDefaultConfig()},this.setDetection=function(b){a=b},this.loadDefaultConfig=function(){return angular.forEach(angular.module("appverse.configuration.default")._invokeQueue,function(a){c[a[2][0]]=a[2][1]}),this},this.loadCustomConfig=function(a){return a&&(this.settings=a),this.loadMobileConfigIfRequired(),this.loadEnvironmentConfig(),this},this.overrideDefaultConfig=function(){angular.forEach(c,function(a,b){angular.module("appverse.configuration").constant(b,a)})},this.loadMobileConfigIfRequired=function(){a.hasAppverseMobile()?this.loadAppverseMobileConfig():a.isMobileBrowser()&&this.loadMobileBrowserConfig()},this.loadEnvironmentConfig=function(){return this.settings&&this.settings.environment?this.addConfig(this.settings.environment):this.addConfigFromJSON("resources/configuration/environment-conf.json"),this},this.loadAppverseMobileConfig=function(){return this.settings&&this.settings.appverseMobile?this.addConfig(this.settings.appverseMobile):this.addConfigFromJSON("resources/configuration/appversemobile-conf.json"),this},this.loadMobileBrowserConfig=function(){return this.settings&&this.settings.mobileBrowser?this.addConfig(this.settings.mobileBrowser):this.addConfigFromJSON("resources/configuration/mobilebrowser-conf.json"),this},this.addConfig=function(a){angular.forEach(a,function(a,b){var d=c[b];d?(angular.forEach(a,function(a,b){d[b]=a}),c[b]=d):c[b]=a})},this.addConfigFromJSON=function(a){var b=new XMLHttpRequest;b.open("GET",a,!1),b.send(null);var c=JSON.parse(b.responseText);this.addConfig(c)}}function b(){this.hasAppverseMobile=function(){return!1},this.isMobileBrowser=function(){return!1}}function c(a){a.load({environment:{},appverseMobile:{},mobileBrowser:{}})}c.$inject=["ConfigLoaderProvider"],angular.module("appverse.configuration.loader").provider("ConfigLoader",a).config(c)}(),function(){"use strict";angular.module("appverse.configuration.default").constant("PROJECT_DATA",{ApplicationName:"Appverse HTML5",Version:"0.1",Company:"GFT",Year:"2015",Team:"GFT Appverse Web",URL:"",LoginViewPath:"/login",myUrl:"",VendorLibrariesBaseUrl:"bower_components"}).constant("IONIC_CONFIG",{suffix:"-mobile",modalPrompt:!1,redirectionPath:"home"}).constant("LOGGING_CONFIG",{ServerEnabled:!1,LogServerEndpoint:"http://localhost:9000/log",CustomLogPreffix:"APPLOG",EnabledLogLevel:!0,EnabledErrorLevel:!0,EnabledDebugLevel:!0,EnabledWarnLevel:!0,EnabledInfoLevel:!0,LogDateTimeFormat:"%Y-%M-%d %h:%m:%s:%z",LogTextFormat:""}).constant("CACHE_CONFIG",{ScopeCache_Enabled:!0,DefaultScopeCacheName:"appverseScopeDataCache",ScopeCache_duration:1e4,ScopeCache_capacity:10,BrowserStorageCache_Enabled:!0,BrowserStorage_type:"2",DefaultBrowserCacheName:"appverseBrowserCache",MaxAge:9e5,CacheFlushInterval:36e5,DeleteOnExpire:"aggressive",SessionBrowserStorage:"sessionStorage",LocalBrowserStorage:"localStorage",NoBrowserStorage:"none",browserDirectCacheType:"1",VerifyIntegrity:!0,HttpCache_Enabled:!0,HttpCache_duration:2e4,HttpCache_capacity:10,IndexedDBCache_Enabled:!1,IndexedDB_name:"DefaultIDBCache",IndexedDB_version:1,IndexedDB_options:[{storeName:"structure-of-items",keyPath:"id",indexes:[{name:"name",unique:!1}]}]}).constant("SERVERPUSH_CONFIG",{BaseUrl:"http://localhost:3000",ListenedPort:"3000",Resource:"socket.io",ConnectTimeout:"10000",TryMultipleTransports:!0,Reconnect:!0,ReconnectionDelay:1e3,ReconnectionLimit:"Infinity",MaxReconnectionAttempts:5,SyncDisconnectOnUnload:!1,AutoConnect:!0,FlashPolicyPort:"",ForceNewConnection:!1}).constant("REST_CONFIG",{BaseUrl:"/api/v1",Timeout:1e3,ExtraFields:[],ParentLess:!1,NoCacheHttpMethods:{get:!1,post:!0,put:!1,"delete":!0,option:!1},RestangularFields:{id:"id",route:"route"},MethodOverriders:[],DefaultRequestParams:{},FullResponse:!1,DefaultHeaders:null,RequestSuffix:".json",UseCannonicalId:!1,EncodeIds:!0,HATEOAS:!1}).constant("I18N_CONFIG",{PreferredLocale:"en-US",localeLocationPattern:"bower_components/angular-i18n/angular-locale_{{locale}}.js"}).constant("SECURITY_GENERAL",{securityEnabled:!1,XSRFCSRFRequestHeaderName:"X-XSRF-TOKEN",XSRFCSRFResponseCookieName:"XSRF-TOKEN",BearerTokenResponseHeader:"access_token",BearerTokenRequestHeader:"Authorization",RefreshTokenResponseHeader:"refresh_token",BearerTokenExpiringResponseHeader:"expires_in",TokenTypeResponseHeader:"token_type",XSRFPolicyType:1,XSRFSecret:"",Headers_ContentType:"application/json",loginHTTPMethod:"POST",loginURL:"http://localhost:8080/html5-incubator-server/rest/sec/login",username:"admin",password:"admin",connected:"connected",disconnected:"disconnected",notEnabled:"Security not enabled"}).constant("SECURITY_OAUTH",{oauth2_endpoint:"appverse",clientID:"",profile:"http://localhost:8080/html5-incubator-server",scope:"resources",scopeURL:"http://localhost:8080/html5-incubator-server",scope_authorizePath:"/oauth/authorize",scope_tokenPath:"/oauth/token",scope_flow:"implicit",scope_view:"standard",scope_storage:"none",scope_template:"views/demo/security/oauth_default.html",redirectURL:"http://localhost:9000",storage:"cookies",storage_cookies:"cookies",storage_header:"header",tokenResponseHeaderName:"Authorization"}).constant("GOOGLE_AUTH",{clientID:"75169325484-8cn28d7o3dre61052o8jajfsjlnrh53i.apps.googleusercontent.com",scopeURL:"https://www.googleapis.com/auth/plus.login",requestvisibleactionsURL:"http://schemas.google.com/AddActivity",theme:"dark",cookiepolicy:"single_host_origin",revocationURL:"https://accounts.google.com/o/oauth2/revoke?token=",revocation:"revocation",manual_renovation:"manual_renovation",automatic_renovation:"automatic_renovation",tokenRenewalPolicy:"automatic_renovation"}).constant("AUTHORIZATION_DATA",{roles:["user","admin","editor"],adminRoles:["ROLE_EXAMPLE","ROLE_EXAMPLE_2","ROLE_REMOTE_LOGGING_WRITER","ROLE_USER"],users:["Jesus de Diego"],userRoleMatrix:[{user:"Jesus de Diego",roles:["ROLE_EXAMPLE","ROLE_EXAMPLE_2","ROLE_REMOTE_LOGGING_WRITER","ROLE_USER"]},{user:"Antoine Charnoz",roles:["ROLE_EXAMPLE","ROLE_EXAMPLE_2","ROLE_REMOTE_LOGGING_WRITER","ROLE_USER"]}],routesThatDontRequireAuth:["/home"],routesThatRequireAdmin:["/about"]}).constant("WEBSOCKETS_CONFIG",{WS_URL:"https://appverse.gftlabs.com/websockets/services/websocket/stats",WS_TYPE:"auto",WS_PROTOCOL_TYPE:"auto",HEARTBEAT_OUTGOING:2e4,HEARTBEAT_INCOMING:0,WS_CONNECTED:"Websocket connected",WS_DISCONNECTED:"Websocket disconnected",WS_CONNECTING:"Connecting Websocket...",WS_CLOSED:"Websocket connection closed",WS_CLOSING:"Websocket connection closing...",WS_OPEN:"Websocket connection is open",WS_UNKNOWN:"Websocket status is unknown",WS_PROTOCOL_CONNECTED:"Websocket protocol connected",WS_PROTOCOL_DISCONNECTED:"Websocket protocol disconnected",WS_FAILED_CONNECTION:"Failed to open a Websocket connection",WS_NOT_SUPPORTED:"HTML5 Websockets specification is not supported in this browser.",WS_SUPPORTED:"HTML5 Websockets specification is supported in this browser."}).constant("PERFORMANCE_CONFIG",{webworker_pooled_threads:4,webworker_authorized_workers_only:!0,webworker_directory:"resources/webworkers/",webworker_authorized_workers:[{id:"w1",type:"dedicated",poolSize:4,file:"RenderImage.js"},{id:"w2",type:"dedicated",poolSize:4,file:"RestMultiRequest.js"}],webworker_dedicated_literal:"dedicated",webworker_shared_literal:"shared",webworker_Message_template:"scripts/api/directives/webworkerMessage.html"}).constant("ROUTER_CONFIG",{loadStatesEnabled:!1,autoLoadStates:!0,statesUrl:"/states",prependBaseUrl:!0,appendRequestSuffix:!0})}();var AppInit=AppInit||function(a){"use strict";function b(b){g=b;var c=a.module("appverse.configuration.loader");return c._invokeQueue.some(function(a,b){return"$injector"===a[0]&&"invoke"===a[1]?(c._invokeQueue.splice(b),!0):void 0}),c.config(f),AppInit}function c(b){var c=b||h;a.element(document).ready(function(){a.bootstrap(document,[c])})}function d(a){h=a}function e(){return a.module(h)}function f(a){a.load(g)}f.$inject=["ConfigLoaderProvider"];var g,h;return{setMainModuleName:d,setConfig:b,bootstrap:c,getMainModule:e}}(angular);
//# sourceMappingURL=appverse-html5-core.min.js.map